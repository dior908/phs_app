<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <meta name="theme-color" content="#0f172a"/>
  <title>Phs App ‚Äî –ò–≥—Ä–æ–≤–æ–π WebApp</title>

  <!-- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π "glass + neumorphism" -->
  <style>
    :root{
      --bg-a: #081226;
      --bg-b: #0b2740;
      --card: rgba(255,255,255,0.06);
      --glass: rgba(255,255,255,0.04);
      --accent: #6ee7b7;
      --accent-2: #60a5fa;
      --muted: rgba(255,255,255,0.65);
      --glass-border: rgba(255,255,255,0.06);
      --shadow: 0 8px 30px rgba(2,6,23,0.6);
      --radius: 16px;
      --btn-radius: 14px;
      --gap: 14px;
    }

    html,body{
      height:100%;
      margin:0;
      font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      background: linear-gradient(160deg, var(--bg-a) 0%, var(--bg-b) 100%);
      color: #e6eef6;
      overflow:hidden; /* webapp full-screen feel */
    }

    /* –æ—Å–Ω–æ–≤–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞ ‚Äî –∑–∞–Ω–∏–º–∞–µ—Ç –≤–µ—Å—å —ç–∫—Ä–∞–Ω */
    .app {
      height:100vh;
      display:flex;
      flex-direction:column;
      gap:var(--gap);
      padding:calc(env(safe-area-inset-top,20px) + 20px) 18px 24px;
      box-sizing:border-box;
      align-items:center;
      justify-content:flex-start;
    }

    /* —à–∞–ø–∫–∞ */
    .header {
      width:100%;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .brand {
      display:flex;
      gap:12px;
      align-items:center;
    }
    .logo {
      width:56px;
      height:56px;
      border-radius:12px;
      background: linear-gradient(135deg,var(--accent),var(--accent-2));
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:26px;
      box-shadow: 0 6px 20px rgba(96,165,250,0.18), inset 0 -6px 18px rgba(255,255,255,0.06);
      user-select:none;
    }
    .brand-title {
      font-weight:700;
      font-size:18px;
      letter-spacing:0.2px;
    }
    .brand-sub {
      font-size:12px;
      color:var(--muted);
      margin-top:-4px;
    }

    /* –ø—Ä–æ—Ñ–∏–ª—å/–∫–Ω–æ–ø–∫–∏ header */
    .hdr-actions {
      display:flex;
      gap:10px;
      align-items:center;
    }
    .circle-btn {
      width:44px;
      height:44px;
      border-radius:12px;
      background:var(--glass);
      border:1px solid var(--glass-border);
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow: var(--shadow);
      cursor:pointer;
      transition: transform .14s ease, box-shadow .14s;
      user-select:none;
    }
    .circle-btn:active { transform: translateY(2px) scale(.995); }
    .hdr-stats {
      display:flex;
      gap:10px;
      align-items:center;
      padding:8px 12px;
      border-radius:12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.03);
      font-size:13px;
    }

    /* –∫–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å */
    .profile-card {
      width:100%;
      max-width:980px;
      margin-top:8px;
      padding:14px;
      border-radius:var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid var(--glass-border);
      box-shadow: var(--shadow);
      display:flex;
      align-items:center;
      gap:14px;
      box-sizing:border-box;
    }
    .avatar {
      width:72px;
      height:72px;
      border-radius:14px;
      background: linear-gradient(135deg,#7c3aed,#06b6d4);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      font-size:24px;
      color:white;
    }
    .profile-info { flex:1; min-width:0; }
    .profile-name { font-weight:700; font-size:16px; }
    .profile-sub { color:var(--muted); font-size:13px; margin-top:4px; }
    .progress-wrap { width:260px; text-align:right; }

    .progress-bar {
      height:12px;
      background:linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      border-radius:10px;
      overflow:hidden;
      margin-top:10px;
    }
    .progress-fill {
      height:100%;
      width:35%; /* –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—Ç—å JS */
      background: linear-gradient(90deg,var(--accent),var(--accent-2));
      box-shadow: 0 6px 20px rgba(96,165,250,0.18);
    }

    /* –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é ‚Äî –≥—Ä–∏–¥ */
    .menu {
      width:100%;
      max-width:980px;
      display:grid;
      grid-template-columns: repeat(4, minmax(0,1fr));
      gap:14px;
      margin-top:16px;
    }

    @media (max-width:900px){
      .menu { grid-template-columns: repeat(3,1fr); }
    }
    @media (max-width:600px){
      .menu { grid-template-columns: repeat(2,1fr); }
      .profile-card { flex-direction:row; }
    }

    .menu-item {
      position:relative;
      padding:18px;
      border-radius:16px;
      min-height:120px;
      display:flex;
      flex-direction:column;
      gap:10px;
      justify-content:center;
      align-items:flex-start;
      cursor:pointer;
      overflow:hidden;
      border:1px solid rgba(255,255,255,0.03);
      background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));
      transition: transform .16s cubic-bezier(.2,.9,.2,1), box-shadow .16s, background .2s;
      box-shadow: 0 6px 24px rgba(2,6,23,0.5);
      user-select:none;
    }

    .menu-item:hover { transform: translateY(-6px) scale(1.01); box-shadow: 0 18px 40px rgba(2,6,23,0.55); }
    .menu-item:active { transform: translateY(-2px) scale(.995); }

    .menu-icon {
      width:56px;
      height:56px;
      border-radius:12px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:24px;
      background: linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.03);
      box-shadow: inset 0 -6px 12px rgba(0,0,0,0.12);
    }
    .menu-title { font-weight:700; font-size:15px; }
    .menu-desc { font-size:12px; color:var(--muted); margin-top:4px; }

    /* ripple */
    .ripple { position:absolute; border-radius:999px; transform: scale(0); animation: ripple .6s linear; background: rgba(255,255,255,0.08); pointer-events:none; }
    @keyframes ripple { to { transform: scale(4); opacity:0; } }

    /* –Ω–µ–±–æ–ª—å—à–æ–π —Ñ—É—Ç—Ç–µ—Ä */
    .footer {
      width:100%;
      max-width:980px;
      margin-top:auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      color:var(--muted);
      font-size:13px;
      padding:18px;
      box-sizing:border-box;
    }

    /* utility */
    .hidden { display:none !important; }
    .btn {
      display:inline-flex;
      gap:8px;
      align-items:center;
      justify-content:center;
      padding:10px 14px;
      border-radius:12px;
      background: linear-gradient(90deg,var(--accent),var(--accent-2));
      color:#022633;
      font-weight:700;
      border:none;
      cursor:pointer;
      box-shadow:0 10px 26px rgba(6,182,212,0.12);
    }
    .small { font-size:13px; padding:8px 10px; border-radius:10px; }

  </style>
</head>
<body>
  <div class="app" id="app">

    <div class="header">
      <div class="brand">
        <div class="logo">P</div>
        <div>
          <div class="brand-title">Phs ‚Äî Play & Work</div>
          <div class="brand-sub">–ò–≥—Ä–æ–≤–∞—è —á–∞—Å—Ç—å –¥–ª—è –º–µ–¥–ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π</div>
        </div>
      </div>

      <div class="hdr-actions">
        <!-- –∫–Ω–æ–ø–∫–∏ –º–æ–∂–Ω–æ –ø—Ä–∏–≤—è–∑–∞—Ç—å –∫ –ø—Ä–æ—Ñ–∏–ª—é/–Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º -->
        <div class="hdr-stats" id="hdrStats">XP: <strong id="xpVal">0</strong> ¬∑ Coins: <strong id="coinsVal">0</strong></div>
        <div class="circle-btn" id="btnSettings" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏" onclick="onSettings()">
          ‚öôÔ∏è
        </div>
      </div>
    </div>

    <!-- –ø—Ä–æ—Ñ–∏–ª—å -->
    <div class="profile-card" id="profileCard">
      <div class="avatar" id="avatar">DA</div>
      <div class="profile-info">
        <div class="profile-name" id="profileName">–î–∏–æ—Ä –ê–∫–º–∞–ª–æ–≤–∏—á</div>
        <div class="profile-sub" id="profileSub">–ú–µ–Ω–µ–¥–∂–µ—Ä ‚Äî –§–∞—Ä–º–∞—Å–∏–Ω—Ç–µ–∑</div>

        <div class="progress-bar" aria-hidden="true">
          <div class="progress-fill" id="progressFill" style="width:35%"></div>
        </div>
      </div>
      <div class="progress-wrap">
        <div style="font-size:12px; color:var(--muted)">–£—Ä–æ–≤–µ–Ω—å <strong id="levelVal">1</strong></div>
        <div style="font-size:13px; font-weight:700; margin-top:6px" id="nextXp">35 / 100 XP</div>
      </div>
    </div>

    <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (grid) -->
    <div class="menu" id="mainMenu">
      <!-- –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏: —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç -->
      <div class="menu-item" data-action="create_project" onclick="menuClick(event)" onmousedown="ripple(event)">
        <div class="menu-icon">üìù</div>
        <div class="menu-title">–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</div>
        <div class="menu-desc">–®–∞–≥ –∑–∞ —à–∞–≥–æ–º ‚Äî –±—ã—Å—Ç—Ä–æ –∏ –∫—Ä–∞—Å–∏–≤–æ</div>
      </div>

      <div class="menu-item" data-action="my_projects" onclick="menuClick(event)" onmousedown="ripple(event)">
        <div class="menu-icon">üìÅ</div>
        <div class="menu-title">–ú–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã</div>
        <div class="menu-desc">–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</div>
      </div>

      <div class="menu-item" data-action="visits" onclick="menuClick(event)" onmousedown="ripple(event)">
        <div class="menu-icon">üöë</div>
        <div class="menu-title">–í–∏–∑–∏—Ç—ã</div>
        <div class="menu-desc">–î–æ–±–∞–≤–∏—Ç—å/–æ—Ç–º–µ—Ç–∏—Ç—å –≤–∏–∑–∏—Ç</div>
      </div>

      <div class="menu-item" data-action="game" onclick="menuClick(event)" onmousedown="ripple(event)">
        <div class="menu-icon">üéÆ</div>
        <div class="menu-title">–ò–≥—Ä—ã</div>
        <div class="menu-desc">–ú–∏–Ω–∏-–∏–≥—Ä—ã –∏ –æ—á–∫–∏</div>
      </div>

      <div class="menu-item" data-action="leaderboard" onclick="menuClick(event)" onmousedown="ripple(event)">
        <div class="menu-icon">üèÜ</div>
        <div class="menu-title">–¢–æ–ø</div>
        <div class="menu-desc">–õ–∏–¥–µ—Ä–±–æ—Ä–¥ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</div>
      </div>

      <div class="menu-item" data-action="store" onclick="menuClick(event)" onmousedown="ripple(event)">
        <div class="menu-icon">üõçÔ∏è</div>
        <div class="menu-title">–ú–∞–≥–∞–∑–∏–Ω</div>
        <div class="menu-desc">–ü–æ—Ç—Ä–∞—Ç—å –º–æ–Ω–µ—Ç—ã –Ω–∞ –±–µ–π–¥–∂–∏</div>
      </div>

      <div class="menu-item" data-action="help" onclick="menuClick(event)" onmousedown="ripple(event)">
        <div class="menu-icon">‚ùì</div>
        <div class="menu-title">–ü–æ–º–æ—â—å</div>
        <div class="menu-desc">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ FAQ</div>
      </div>

      <div class="menu-item" data-action="settings" onclick="menuClick(event)" onmousedown="ripple(event)">
        <div class="menu-icon">‚öôÔ∏è</div>
        <div class="menu-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
        <div class="menu-desc">–Ø–∑—ã–∫, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</div>
      </div>
    </div>

    <div class="footer">
      <div>–í–µ—Ä—Å–∏—è 1.0 ‚Ä¢ Phs App</div>
      <div style="opacity:.8">¬© Pharmasintez</div>
    </div>
  </div>

  <!-- –°–∫—Ä–∏–ø—Ç—ã: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WebApp, ripple, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏–π -->
  <script>
    // --- Telegram WebApp init: –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å—Ç–∞—Ä–∞–µ–º—Å—è —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ –ø–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω ---
    const isTelegram = typeof Telegram !== 'undefined' || (window.Telegram && Telegram.WebApp);
    try {
      if (isTelegram) {
        // Telegram.WebApp –º–æ–∂–µ—Ç –±—ã—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º, –Ω–æ –≤–Ω—É—Ç—Ä–∏ iframe –æ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–∫ Telegram.WebApp
        const webapp = (window.Telegram && window.Telegram.WebApp) || Telegram.WebApp;
        webapp.ready();
        // –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è —Ä–∞—Å—à–∏—Ä–∏—Ç—å –æ–∫–Ω–æ ‚Äî –¥–∞—Å—Ç "app-like" –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –≤–∏–¥ –≤–Ω—É—Ç—Ä–∏ Telegram
        if (typeof webapp.expand === 'function') {
          try { webapp.expand(); } catch(e) { /* ignore */ }
        }
        // –ø–æ –∂–µ–ª–∞–Ω–∏—é: –ø–æ–ª—É—á–∏—Ç—å initData –∏ –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        if (webapp.initDataUnsafe && webapp.initDataUnsafe.user) {
          const u = webapp.initDataUnsafe.user;
          document.getElementById('profileName').textContent = (u.first_name || '') + (u.last_name ? ' ' + u.last_name : '');
          document.getElementById('avatar').textContent = (u.first_name || 'U')[0] + (u.last_name ? u.last_name[0] : '');
        }
      }
    } catch(e){
      console.warn('tg init error', e);
    }

    // --- ripple effect –¥–ª—è menu-item ---
    function ripple(e){
      const target = e.currentTarget;
      const rect = target.getBoundingClientRect();
      const r = document.createElement('span');
      r.className = 'ripple';
      const size = Math.max(rect.width, rect.height);
      r.style.width = r.style.height = size + 'px';
      r.style.left = (e.clientX - rect.left - size/2) + 'px';
      r.style.top = (e.clientY - rect.top - size/2) + 'px';
      target.appendChild(r);
      setTimeout(()=> r.remove(), 700);
    }

    // --- –æ–±—â–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –≤ –º–µ–Ω—é ---
    function menuClick(e){
      // –µ—Å–ª–∏ –∫–ª–∏–∫ –ø—Ä–∏—à—ë–ª –∏–∑ –≤–ª–æ–∂–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, –ø–æ–¥–Ω—è—Ç—å –¥–æ .menu-item
      let el = e.target;
      while(el && !el.dataset.action) el = el.parentElement;
      if(!el) return;
      const action = el.dataset.action;
      // –≤–∏–∑—É–∞–ª—å–Ω—ã–π –æ—Ç–∫–ª–∏–∫:
      el.style.transform = 'translateY(-2px) scale(.997)';
      setTimeout(()=> el.style.transform = '', 160);

      // –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π ‚Äî —Å—é–¥–∞ –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –≤–∞—à—É –ª–æ–≥–∏–∫—É
      switch(action){
        case 'create_project': openCreateProject(); break;
        case 'my_projects': openMyProjects(); break;
        case 'visits': openVisits(); break;
        case 'game': openGame(); break;
        case 'leaderboard': getLeaderboard(); break;
        case 'store': openStore(); break;
        case 'help': openHelp(); break;
        case 'settings': onSettings(); break;
        default: console.log('action',action);
      }
    }

    // ----------------- placeholder —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –∑–∞–º–µ–Ω–∏—Ç–µ —Å–≤–æ–∏–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏ -----------------
    function openCreateProject(){
      // TODO: –ø–æ–∫–∞–∑–∞—Ç—å —ç–∫—Ä–∞–Ω —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
      // –ø—Ä–∏–º–µ—Ä –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –±–æ—Ç–∞: Telegram.WebApp.sendData(JSON.stringify({ action:'open', screen:'create_project' }));
      notify('–û—Ç–∫—Ä—ã—Ç—å: –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç');
    }
    function openMyProjects(){ notify('–û—Ç–∫—Ä—ã—Ç—å: –ú–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã'); }
    function openVisits(){ notify('–û—Ç–∫—Ä—ã—Ç—å: –í–∏–∑–∏—Ç—ã'); }
    function openGame(){ notify('–û—Ç–∫—Ä—ã—Ç—å: –ò–≥—Ä—ã'); 
      // –µ—Å–ª–∏ –µ—Å—Ç—å –∏–≥—Ä–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Äî –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –Ω–µ—ë –∏–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª
      // window.location.href = '/game.html';
    }
    function getLeaderboard(){
      notify('–ó–∞–ø—Ä–æ—Å–∏—Ç—å –ª–∏–¥–µ—Ä–±–æ—Ä–¥...');
      // –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ ‚Äî –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–æ—Ç—É:
      try { Telegram.WebApp.sendData(JSON.stringify({ action:'get_leaderboard' })); } catch(e){ console.warn(e); }
    }
    function openStore(){ notify('–û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω'); }
    function openHelp(){ notify('–û—Ç–∫—Ä—ã—Ç—å –ø–æ–º–æ—â—å'); }
    function onSettings(){ notify('–û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏'); }

    // –ø—Ä–æ—Å—Ç–∞—è –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Äî –ø–æ–∫–∞ —á—Ç–æ –ø—Ä–æ—Å—Ç—ã–º toast
    function notify(text){
      // –≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º alert (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –∫–∞—Å—Ç–æ–º–Ω—ã–π toast)
      //alert(text);
      const prev = document.getElementById('tmpNotify');
      if(prev) prev.remove();
      const n = document.createElement('div');
      n.id='tmpNotify';
      n.textContent = text;
      Object.assign(n.style, {
        position:'fixed', left:'50%', transform:'translateX(-50%)', bottom:'70px',
        background:'rgba(0,0,0,0.6)', color:'#fff', padding:'10px 14px', borderRadius:'10px',
        zIndex:9999, fontSize:'14px', boxShadow:'0 8px 30px rgba(0,0,0,0.6)'
      });
      document.body.appendChild(n);
      setTimeout(()=> n.remove(), 1400);
    }

    // --- –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (–ø—Ä–∏–º–µ—Ä) ---
    function setProgress(xp, level, coins){
      // xp: —Ç–µ–∫—É—â–µ–µ, level: –Ω–æ–º–µ—Ä —É—Ä–æ–≤–Ω—è, coins: –º–æ–Ω–µ—Ç—ã
      const next = (level) * 100; // –ø—Ä–æ—Å—Ç–∞—è —Ñ–æ—Ä–º—É–ª–∞: level*100 XP
      const percent = Math.min(100, Math.round(xp / next * 100));
      document.getElementById('xpVal').textContent = xp;
      document.getElementById('coinsVal').textContent = coins;
      document.getElementById('levelVal').textContent = level;
      document.getElementById('nextXp').textContent = xp + ' / ' + next + ' XP';
      document.getElementById('progressFill').style.width = percent + '%';
    }

    // –ø—Ä–∏–º–µ—Ä –Ω–∞—á–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π ‚Äî –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ tg.initDataUnsafe –∏–ª–∏ —Å –±–æ—Ç–∞
    setProgress(35, 1, 12);

    // prevent overscroll inside telegram webapp iframe (—É–ª—É—á—à–∞–µ–º –æ—â—É—â–µ–Ω–∏–µ "–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è")
    document.addEventListener('touchmove', function(e){ /* –º–æ–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å */ }, { passive:true });

  </script>
</body>
</html>
